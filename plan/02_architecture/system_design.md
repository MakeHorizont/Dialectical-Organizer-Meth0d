
# Архитектура Meth0d v2.1.0

## Технический Стек
Приложение построено как **Hybrid PWA/Desktop** решение. Единая кодовая база обслуживает и веб-версию, и десктопное приложение.

*   **Core:** React 18 + TypeScript.
*   **Build Tool:** Vite (обеспечивает быструю сборку и HMR).
*   **Styling:** Tailwind CSS (утилитарные классы, темизация через CSS Variables).
*   **Router:** React Router DOM (HashRouter для совместимости с файловой системой Electron).
*   **Desktop Wrapper:** Electron + Electron Builder.
*   **State Management:** React Context API (достаточно для текущего масштаба, избегаем Redux для простоты).
*   **Icons:** Lucide React.

## Структура Данных (Локальное Хранилище)
Приложение исповедует принцип **Local-First**.
Все данные хранятся в `localStorage` браузера (или Chromium внутри Electron).

*   **Ключ:** `dialectical_organizer_data_v2`
*   **Формат:** Массив объектов `Analysis`.
*   **Миграции:** При смене версий структуры данных необходима проверка в `services/storage.ts`.

## Потоки Данных
1.  **Загрузка:** При старте `App.tsx` инициализирует контексты (Язык, Тема).
2.  **Dashboard:** Читает массив анализов, фильтрует `!isArchived`.
3.  **Wizard (Редактор):**
    *   Работает с локальным стейтом.
    *   Сохраняет в `localStorage` при каждом переходе (Next/Back) и принудительном Save.
    *   Это предотвращает потерю данных при сбое.

## Безопасность и Приватность
*   Никаких внешних API-вызовов (кроме загрузки шрифтов/иконок, если не закешированы).
*   Данные не покидают устройство пользователя.
*   Функция "Поделиться" использует нативное API ОС или буфер обмена.

## Сборка (Build Pipeline)
1.  `npm run build` -> Vite собирает React приложение в папку `dist/`.
2.  `npm run electron:build` -> Сначала выполняет `build`, затем Electron Builder упаковывает `dist/` и `electron-main.cjs` в `.exe` или другой бинарный файл.
